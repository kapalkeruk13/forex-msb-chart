<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Forex Chart</title>
</head>

<body style="margin:0; background:#0f0f0f;">

<!-- Dropdown Pair -->
<select id="pairSelect" 
        style="position:absolute;z-index:1000;padding:8px;font-size:16px;margin:10px;">
  <option value="FX:EURUSD">EURUSD</option>
  <option value="FX:GBPUSD">GBPUSD</option>
  <option value="FX:USDJPY">USDJPY</option>
  <option value="FX:AUDUSD">AUDUSD</option>
  <option value="FX:USDCAD">USDCAD</option>
  <option value="FX:USDCHF">USDCHF</option>
  <option value="OANDA:XAUUSD">XAUUSD (Gold)</option>
</select>

<div id="chart" style="height:100vh;"></div>

<script src="https://s3.tradingview.com/tv.js"></script>

<script>

let currentWidget;

function loadChart(symbol) {

  if (currentWidget) {
    document.getElementById("chart").innerHTML = "";
  }

  currentWidget = new TradingView.widget({
    "autosize": true,
    "symbol": symbol,
    "interval": "5",
    "timezone": "Asia/Jakarta",
    "theme": "dark",
    "style": "1",
    "locale": "en",
    "toolbar_bg": "#0f0f0f",
    "enable_publishing": false,
    "hide_top_toolbar": false,
    "container_id": "chart"
  });
}

// Default pertama
loadChart("FX:EURUSD");

// Ganti pair saat dipilih
document.getElementById("pairSelect").addEventListener("change", function() {
  loadChart(this.value);
});

</script>

</body>
</html>
